# Batchivo Backend - Environment Variables

# Application
APP_NAME=Batchivo
ENVIRONMENT=development  # development, staging, production
DEBUG=true
API_V1_PREFIX=/api/v1

# Database (PostgreSQL)
# Note: Using psycopg driver (not asyncpg) for Python 3.14 compatibility
DATABASE_URL=postgresql+psycopg://batchivo:batchivo@localhost:5432/batchivo

# Redis
REDIS_URL=redis://localhost:6379/0

# CORS
CORS_ORIGINS=["http://localhost:5173","https://batchivo.com","https://dev.batchivo.com"]
CORS_ALLOW_CREDENTIALS=true

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=batchivo-backend
OTEL_ENVIRONMENT=development
ENABLE_TRACING=true
ENABLE_METRICS=true

# Celery (Background Jobs)
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# Storage
STORAGE_TYPE=local  # local or s3
STORAGE_PATH=./uploads
STORAGE_S3_BUCKET=
STORAGE_S3_REGION=us-east-1

# Security
# REQUIRED: SECRET_KEY must be set and at least 32 characters
# App will fail to start without a valid SECRET_KEY
# Generate a secure key: python -c "import secrets; print(secrets.token_urlsafe(64))"
# In production: loaded from Kubernetes secrets (backend-secrets)
SECRET_KEY=
ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24 hours

# Square Payments (Mystmereforge Shop)
# Note: In production, these are loaded from Kubernetes secrets (backend-secrets)
# Get credentials from: https://developer.squareup.com/
SQUARE_ACCESS_TOKEN=from-square-developer-dashboard
SQUARE_LOCATION_ID=from-square-developer-dashboard
SQUARE_ENVIRONMENT=sandbox  # sandbox or production
